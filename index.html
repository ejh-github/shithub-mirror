<!DOCTYPE html>
<html>

<head>
	<style type="text/css">
		body{
			padding: 2em;
			margin: auto;
			max-width: 50em;
			font-family: sans-serif;
		}
		h1{
			font-size: 1.5em;
			color: #4c4c99;
		}
		h2{
			font-size: 1.3em;
			color: #4c4c99;
		}
		h3{
			font-size: 1em;
			color: #4c4c99;
		}
		pre{
			font-size: 0.8em;
			background: #ffffea;
		}
	</style>
 	<link rel="alternate" type="application/rss+xml" href="feed.rss" title="rss">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Shithub</title>
</head>
<body>
<h1>Shithub</h1>
<h2>The Scented Git Host</h2>

<p>Shithub is a site for hosting git repositories. It's
running on <a href="https://orib.dev/git9.html">git9</a>,
hosted on <a href=http://9front.org>9front</a>.</p>

<p align="center"><img src=toilet.jpg></p>

<h2>Code</h2>

<p><a href="git/repos.html">Repo List</a></p>

<p><a href="http://git.pmikkelsen.com">pmikkelsens mirror</a></p>

<h2>Getting A Shithub Account</h2>

<p>To get an account, email <a href="mailto:ori@eigenstate.org">
Ori Bernstein &lt;ori@eigenstate.org&gt;</a>, and ask for an
account.</p>

<h2>Missing Features</h2>

<p>Shithub is a new service, written by someone who
avoids browsers. As a result, the web interface is
missing a number of features</p>

<p>
<dl>
	<dt><b>9p</b></dt>
	<dd>
	Right now, shithub provides no 9p
	interface. Providing the repositories
	directly over 9p is pointless, but
	mounting each repositories git/fs
	all the time could lead to excessive
	memory use, since git/fs caches too
	aggressively. Work on useful 9p browsing
	is needed.
	</dd>
	<dt><b>Bug tracking</b></dt>
	<dd>
	It should be possible to report bugs in
	a repository, add additional information,
	and view discussion. Perhaps commenting
	can be email-only on a public address.
	</dd>
	<dt><b>Patch submission</b></dt>
	<dd>
	It should be possible to submit patches.
	Maybe this should be subsumed by the bug
	tracking system.
	</dd>
	<dt><b>Continuous builds</b></dt>
	<dd>
	It'd be nice to have this, server costs
	permitting.
	</dd>
	<dt><b>Hjgit for unix</b></dt>
	<dd>
	Right now, you need to push to shithub
	from 9front. Porting 'tlsclient' with 
	dp9ik auth would allow pushing from unix.
	</dd>
	<dt>
	<dt><b>More</b></dt>
	<dd>
	This list is incomplete.
	</dd>
	<dt>
</dl>

<h2>Using Shithub</h2>

Creating a repository:

<pre>
	rcpu -h shithub.us \
		-c newrepo -d 'description' \
		-c 'contact@me.com' repo
	git/push -u hjgit://shithub.us/$user/repo
</pre>

<p>Your repositories live under</p>

<pre>
	/usr/git/$user
</pre>

<p>A repo contains a few control files for the web
interface. All of them live under the repository,
in /usr/git/$user/$repo/.git/$file. These are the
control files that are currently supported:</p>

<p>
<dl>
<dt><code>webpublish</code></dt>
<dd>If this file exists, then the repository is
published in the public web list of repositories.
</dd>
<dt><code>desc, description</code></dt>
<dd>The short description of the repository. It shows
up in the repo list.</dd>
<dt><code>contact</code></dt>
<dd>Contact information for submitting patches.
Shows up on the repository info page.</dd>
<dt><code>README</code></dt>
<dd>A readme file, shown in the info page of the
repository. If this file is not present, then a
README from within the repository will be used,
and if neither exist, then the description will
be used.</dd>
</dl>
</p>

<p>You can cd into there create the repository,
and flag them as web-visible by hand, or you can
use the <code>newrepo</code>
script, which is a small wrapper around <code>
git/init</code> that creates the control files:</p>

<pre>
	newrepo [-d description] [-c contact] reponame
</pre>

<p>
README files in the repo will be rendered,
but if you don't want to clutter root of your
repository with junk, you can also add
README files here:
</p>

<pre>
	/usr/git/$user/$repo/.git/README
</pre>

<p>The code running this site is fully open source.
It's hosted on shithub, here:</p>

<pre>
	<a href="/git/ori/shithub/HEAD/info.html">gits://shithub.us/ori/shithub</a>
</pre>

<p>I'd eventually like it to grow some basic
features for reviewing and discussing patches,
maybe based around mailing lists, though the
ideas are still rough.</p>

<p>Things are pretty early -- the web UI is brand
new and rather rudimentary, so improvements are
gladly welcome.</p>

</body>
</html>
